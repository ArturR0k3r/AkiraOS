###############################################################################
# B-U585I-IOT02A Board Configuration
# STM32U585 ARM Cortex-M33, 768KB SRAM, 2MB Flash, W5500 Ethernet
# v1.3.4: Stack Profile = MINIMAL (conservative for IoT)
###############################################################################

###############################################################################
# Stack Profile (MINIMAL for STM32U585 with conservative settings)
###############################################################################
CONFIG_AKIRA_PROFILE_MINIMAL=y

###############################################################################
# Memory Configuration (768KB SRAM total)
###############################################################################
CONFIG_HEAP_MEM_POOL_SIZE=131072
# v1.3.4: MINIMAL profile stack sizes
CONFIG_MAIN_STACK_SIZE=1536
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_SHELL_STACK_SIZE=1536
CONFIG_ISR_STACK_SIZE=1024
CONFIG_IDLE_STACK_SIZE=256

###############################################################################
# Peripherals
###############################################################################
CONFIG_SENSOR=y
CONFIG_I2C=y
CONFIG_SPI=y

###############################################################################
# USB Device Support
###############################################################################
CONFIG_USB_DEVICE_STACK=y
CONFIG_USB_DEVICE_PRODUCT="AkiraOS B-U585I-IOT02A"

###############################################################################
# Networking - W5500 Ethernet controller
###############################################################################
CONFIG_NETWORKING=y
CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y
CONFIG_NET_UDP=y
CONFIG_NET_SOCKETS=y
CONFIG_NET_DHCPV4=y
CONFIG_ETH_W5500=y
CONFIG_NET_L2_ETHERNET=y
CONFIG_NET_SHELL=y

###############################################################################
# Network Buffers
###############################################################################
CONFIG_NET_BUF_DATA_SIZE=128
CONFIG_NET_PKT_RX_COUNT=8
CONFIG_NET_PKT_TX_COUNT=8
CONFIG_NET_BUF_RX_COUNT=12
CONFIG_NET_BUF_TX_COUNT=12

###############################################################################
# Storage - LittleFS on internal flash
###############################################################################
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y
CONFIG_FILE_SYSTEM=y
CONFIG_FILE_SYSTEM_LITTLEFS=y

###############################################################################
# Cryptography
###############################################################################
CONFIG_CRYPTO=y
CONFIG_TINYCRYPT=y
CONFIG_TINYCRYPT_AES=y
CONFIG_TINYCRYPT_SHA256=y

###############################################################################
# Settings Backend
###############################################################################
CONFIG_SETTINGS=y
CONFIG_SETTINGS_FILE=y

###############################################################################
# Logging
###############################################################################
CONFIG_LOG_MODE_IMMEDIATE=y
CONFIG_LOG_DEFAULT_LEVEL=3

###############################################################################
# OCRE Memory Configuration
###############################################################################
CONFIG_MAX_CONTAINERS=2
CONFIG_OCRE_CONTAINER_DEFAULT_STACK_SIZE=4096
CONFIG_OCRE_CONTAINER_DEFAULT_HEAP_SIZE=8192
CONFIG_OCRE_WAMR_HEAP_BUFFER_SIZE=262144

###############################################################################
# Disable ESP32-specific features (this is STM32)
###############################################################################
CONFIG_ESP_SPIRAM=n
CONFIG_ESP32_WIFI_STA_AUTO_DHCPV4=n
CONFIG_WIFI=n

###############################################################################
# Note: This is an ARM Cortex-M33 board suitable for Bluetooth + Ethernet
# For WiFi support, use ESP32 boards (DevKitC, DevKitM, SuperMini)
###############################################################################
