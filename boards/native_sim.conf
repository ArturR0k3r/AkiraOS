# Force Newlib for WASM/WAMR support
CONFIG_NEWLIB_LIBC=y
CONFIG_PICOLIBC=n
CONFIG_EXTERNAL_LIBC=n
CONFIG_UART_NATIVE_POSIX_PORT_1_ENABLE=y
CONFIG_NATIVE_UART_0_ON_STDINOUT=y
CONFIG_UART_NATIVE_POSIX=y
CONFIG_FLASH_SIMULATOR=y
CONFIG_ENTROPY_GENERATOR=y
CONFIG_TEST_RANDOM_GENERATOR=y

CONFIG_MPU_ALLOW_FLASH_WRITE=y

CONFIG_NATIVE_SIM_SLOWDOWN_TO_REAL_TIME=y

# Enable POSIX API for native_sim (required for simulator driver with pthreads)
CONFIG_POSIX_API=y
CONFIG_POSIX_TIMERS=y

# Network configuration for native_sim
CONFIG_NETWORKING=y
CONFIG_NET_IPV4=y
CONFIG_NET_TCP=y
CONFIG_NET_UDP=y
CONFIG_NET_SOCKETS=y

# Enable native POSIX Ethernet
CONFIG_ETH_NATIVE_POSIX=y
CONFIG_NET_L2_ETHERNET=y
CONFIG_NET_DRIVERS=y

# Network configuration
CONFIG_NET_CONFIG_SETTINGS=y
CONFIG_NET_CONFIG_MY_IPV4_ADDR="192.168.1.10"
CONFIG_NET_CONFIG_MY_IPV4_GW="192.168.1.1"
CONFIG_NET_CONFIG_MY_IPV4_NETMASK="255.255.255.0"
CONFIG_NET_DHCPV4=n

# Network shell support
CONFIG_NET_SHELL=y

CONFIG_SENSOR=y

# Disable hardware not available on native_sim
CONFIG_SPI=n
CONFIG_GPIO=n
CONFIG_WIFI=n
CONFIG_DISPLAY=n
CONFIG_MIPI_DBI=n
CONFIG_INPUT=n
CONFIG_INPUT_GPIO_KEYS=n
CONFIG_PINCTRL=n
CONFIG_I2C=n

# Disable MCUboot for native_sim (not applicable)
CONFIG_BOOTLOADER_MCUBOOT=n
CONFIG_MCUBOOT_IMG_MANAGER=n
CONFIG_IMG_MANAGER=n
CONFIG_IMG_ENABLE_IMAGE_CHECK=n
CONFIG_IMG_ERASE_PROGRESSIVELY=n
# Flash is needed for LittleFS on native_sim
CONFIG_FLASH_SIMULATOR=y
CONFIG_FLASH_MAP=y
CONFIG_FLASH_PAGE_LAYOUT=y
CONFIG_STREAM_FLASH=n