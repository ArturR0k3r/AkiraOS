# ESP32-C3 DevKitM Specific Configuration
# RISC-V single-core @ 160MHz with WiFi + BLE 5.0

# Memory configuration (ESP32-C3 has ~400KB SRAM)
CONFIG_HEAP_MEM_POOL_SIZE=65536
CONFIG_MAIN_STACK_SIZE=4096
CONFIG_SYSTEM_WORKQUEUE_STACK_SIZE=2048
CONFIG_SHELL_STACK_SIZE=4096

# ESP32-C3 WiFi
CONFIG_WIFI=y
CONFIG_ESP32_WIFI_STA_AUTO_DHCPV4=y
CONFIG_NETWORKING=y

# Bluetooth (ESP32-C3 supports BLE 5.0)
CONFIG_BT=y
CONFIG_BT_PERIPHERAL=y
CONFIG_BT_DEVICE_NAME="AkiraOS-ESP32C3"
CONFIG_BT_MAX_CONN=1
CONFIG_BT_MAX_PAIRED=1

# BT Settings for HID
CONFIG_BT_GATT_CLIENT=n
CONFIG_BT_SETTINGS=y
CONFIG_SETTINGS=y
CONFIG_SETTINGS_RUNTIME=y
CONFIG_SETTINGS_NVS=y

# HID Configuration
CONFIG_AKIRA_HID=y
CONFIG_AKIRA_BT_HID=y

# USB Device Stack - Disable to save RAM (ESP32-C3 USB not fully supported in Zephyr 4.2.1)
CONFIG_USB_DEVICE_STACK=n
CONFIG_AKIRA_USB_HID=n

# SPI for display
CONFIG_SPI=y

# I2C for sensors
CONFIG_I2C=y
CONFIG_SENSOR=y

# GPIO
CONFIG_GPIO=y

# ADC - disabled to save space
CONFIG_ADC=n

# Flash/Storage
CONFIG_FLASH=y
CONFIG_FLASH_MAP=y

# Watchdog
CONFIG_WATCHDOG=y

# PWM - disabled to save space
CONFIG_PWM=n

# Console
CONFIG_CONSOLE=y
CONFIG_UART_CONSOLE=y

# Reduce logging to save RAM
CONFIG_LOG_BUFFER_SIZE=256
CONFIG_LOG_DEFAULT_LEVEL=1
CONFIG_LOG_MAX_LEVEL=2

# Disable features to save RAM
CONFIG_SHELL_HISTORY=n
CONFIG_SHELL_TAB=n
CONFIG_SHELL_TAB_AUTOCOMPLETION=n
CONFIG_SHELL_WILDCARD=n
CONFIG_SHELL_HELP=y
CONFIG_SHELL_HELP_ON_WRONG_ARGUMENT_COUNT=n

# Reduce network buffer sizes
CONFIG_NET_BUF_DATA_SIZE=128
CONFIG_NET_PKT_RX_COUNT=4
CONFIG_NET_PKT_TX_COUNT=4
CONFIG_NET_BUF_RX_COUNT=8
CONFIG_NET_BUF_TX_COUNT=8

###############################################################################
# Disable WASM Runtime to save RAM for WiFi+BT+HID
###############################################################################
CONFIG_AKIRA_APP_MANAGER=n
CONFIG_AKIRA_WASM_RUNTIME=n
